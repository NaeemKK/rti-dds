From b5582e9cdae8c0a2f0cc06d25b5d18b62a5c3382 Mon Sep 17 00:00:00 2001
From: Naeem <naeem_khan@mentor.com>
Date: Fri, 6 Jan 2017 16:41:01 +0500
Subject: [PATCH 1/2] Change LIBS Varibale

---
 hello_builtin/make/Makefile.common     | 2 +-
 hello_builtin_tcp/make/Makefile.common | 2 +-
 hello_dynamic/make/Makefile.common     | 2 +-
 hello_simple/make/Makefile.common      | 2 +-
 news/make/Makefile.common              | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/hello_builtin/make/Makefile.common b/hello_builtin/make/Makefile.common
index 58e7fa5..c6e29e9 100644
--- a/hello_builtin/make/Makefile.common
+++ b/hello_builtin/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/Hello.c                   \
diff --git a/hello_builtin_tcp/make/Makefile.common b/hello_builtin_tcp/make/Makefile.common
index dd3c605..ff04e60 100644
--- a/hello_builtin_tcp/make/Makefile.common
+++ b/hello_builtin_tcp/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddstransporttcpz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/Hello.c                   \
diff --git a/hello_dynamic/make/Makefile.common b/hello_dynamic/make/Makefile.common
index cf7efe3..b3c62af 100644
--- a/hello_dynamic/make/Makefile.common
+++ b/hello_dynamic/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/Hello.c                   \
diff --git a/hello_simple/make/Makefile.common b/hello_simple/make/Makefile.common
index ca392a6..d891b46 100644
--- a/hello_simple/make/Makefile.common
+++ b/hello_simple/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/HelloPublisher.c          \
diff --git a/news/make/Makefile.common b/news/make/Makefile.common
index e3abd72..6a92d67 100644
--- a/news/make/Makefile.common
+++ b/news/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/News.c                   \
-- 
1.9.1


From 49dd93b9f0c4bc0a1029262cf47c97cbb1a53414 Mon Sep 17 00:00:00 2001
From: Naeem <naeem_khan@mentor.com>
Date: Fri, 6 Jan 2017 17:10:14 +0500
Subject: [PATCH 2/2] Create Makefile.x64MEL for each folder

---
 hello_builtin/make/Makefile.x64MEL     | 26 ++++++++++++++++++++++++++
 hello_builtin_tcp/make/Makefile.x64MEL | 26 ++++++++++++++++++++++++++
 hello_dynamic/make/Makefile.x64MEL     | 26 ++++++++++++++++++++++++++
 hello_simple/make/Makefile.x64MEL      | 26 ++++++++++++++++++++++++++
 news/make/Makefile.x64MEL              | 26 ++++++++++++++++++++++++++
 5 files changed, 130 insertions(+)
 create mode 100644 hello_builtin/make/Makefile.x64MEL
 create mode 100644 hello_builtin_tcp/make/Makefile.x64MEL
 create mode 100644 hello_dynamic/make/Makefile.x64MEL
 create mode 100644 hello_simple/make/Makefile.x64MEL
 create mode 100644 news/make/Makefile.x64MEL

diff --git a/hello_builtin/make/Makefile.x64MEL b/hello_builtin/make/Makefile.x64MEL
new file mode 100644
index 0000000..668cff4
--- /dev/null
+++ b/hello_builtin/make/Makefile.x64MEL
@@ -0,0 +1,26 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CLD = $(CC)
+CLDFLAGS = $(LDFLAGS) -m64 -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
+
+
diff --git a/hello_builtin_tcp/make/Makefile.x64MEL b/hello_builtin_tcp/make/Makefile.x64MEL
new file mode 100644
index 0000000..668cff4
--- /dev/null
+++ b/hello_builtin_tcp/make/Makefile.x64MEL
@@ -0,0 +1,26 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CLD = $(CC)
+CLDFLAGS = $(LDFLAGS) -m64 -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
+
+
diff --git a/hello_dynamic/make/Makefile.x64MEL b/hello_dynamic/make/Makefile.x64MEL
new file mode 100644
index 0000000..668cff4
--- /dev/null
+++ b/hello_dynamic/make/Makefile.x64MEL
@@ -0,0 +1,26 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CLD = $(CC)
+CLDFLAGS = $(LDFLAGS) -m64 -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
+
+
diff --git a/hello_simple/make/Makefile.x64MEL b/hello_simple/make/Makefile.x64MEL
new file mode 100644
index 0000000..668cff4
--- /dev/null
+++ b/hello_simple/make/Makefile.x64MEL
@@ -0,0 +1,26 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CLD = $(CC)
+CLDFLAGS = $(LDFLAGS) -m64 -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
+
+
diff --git a/news/make/Makefile.x64MEL b/news/make/Makefile.x64MEL
new file mode 100644
index 0000000..668cff4
--- /dev/null
+++ b/news/make/Makefile.x64MEL
@@ -0,0 +1,26 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CLD = $(CC)
+CLDFLAGS = $(LDFLAGS) -m64 -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
+
+
-- 
1.9.1

