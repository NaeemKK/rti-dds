From a7286c32856e4e49d532b73181f831a7e93420e5 Mon Sep 17 00:00:00 2001
From: Naeem <naeem_khan@mentor.com>
Date: Fri, 6 Jan 2017 17:01:35 +0500
Subject: [PATCH 1/2] Change LIBS Variable

---
 hello_builtin/make/Makefile.common           | 2 +-
 hello_dynamic/make/Makefile.common           | 2 +-
 hello_simple/make/Makefile.common            | 2 +-
 hello_world_xml_dynamic/make/Makefile.common | 2 +-
 news/make/Makefile.common                    | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/hello_builtin/make/Makefile.common b/hello_builtin/make/Makefile.common
index d1c4487..1c8a342 100644
--- a/hello_builtin/make/Makefile.common
+++ b/hello_builtin/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscppz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/Hello.cxx                 \
diff --git a/hello_dynamic/make/Makefile.common b/hello_dynamic/make/Makefile.common
index 58fb3aa..c10ee16 100644
--- a/hello_dynamic/make/Makefile.common
+++ b/hello_dynamic/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscppz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/Hello.cxx                 \
diff --git a/hello_simple/make/Makefile.common b/hello_simple/make/Makefile.common
index 582e7f3..bba3f33 100644
--- a/hello_simple/make/Makefile.common
+++ b/hello_simple/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscppz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/HelloPublisher.cpp        \
diff --git a/hello_world_xml_dynamic/make/Makefile.common b/hello_world_xml_dynamic/make/Makefile.common
index 59ab9e1..673e797 100644
--- a/hello_world_xml_dynamic/make/Makefile.common
+++ b/hello_world_xml_dynamic/make/Makefile.common
@@ -68,7 +68,7 @@ NDDSLIBS = -lnddscppz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 EXEC          = HelloWorld_publisher HelloWorld_subscriber
 DIRECTORIES   = objs.dir objs/$(ARCH).dir
diff --git a/news/make/Makefile.common b/news/make/Makefile.common
index 49ae03f..4b3ddd2 100644
--- a/news/make/Makefile.common
+++ b/news/make/Makefile.common
@@ -69,7 +69,7 @@ NDDSLIBS = -lnddscppz -lnddscz -lnddscorez
 endif
 endif
 
-LIBS = -L$(NDDSHOME)/lib/$(ARCH) $(NDDSLIBS) $(SYSLIBS)
+LIBS = -L$(NDDSHOME)/$(base_libdir) $(NDDSLIBS) $(SYSLIBS)
 
 
 SOURCES = src/News.cpp                 \
-- 
1.9.1


From 60bc85532f20c27e064b25a807b6d90857ed100c Mon Sep 17 00:00:00 2001
From: Naeem <naeem_khan@mentor.com>
Date: Fri, 6 Jan 2017 17:12:54 +0500
Subject: [PATCH 2/2] Create Makefile.x64MEL for each Folder

---
 hello_builtin/make/Makefile.x64MEL           | 24 ++++++++++++++++++++++++
 hello_dynamic/make/Makefile.x64MEL           | 24 ++++++++++++++++++++++++
 hello_simple/make/Makefile.x64MEL            | 24 ++++++++++++++++++++++++
 hello_world_xml_dynamic/make/Makefile.x64MEL | 24 ++++++++++++++++++++++++
 news/make/Makefile.x64MEL                    | 24 ++++++++++++++++++++++++
 5 files changed, 120 insertions(+)
 create mode 100644 hello_builtin/make/Makefile.x64MEL
 create mode 100644 hello_dynamic/make/Makefile.x64MEL
 create mode 100644 hello_simple/make/Makefile.x64MEL
 create mode 100644 hello_world_xml_dynamic/make/Makefile.x64MEL
 create mode 100644 news/make/Makefile.x64MEL

diff --git a/hello_builtin/make/Makefile.x64MEL b/hello_builtin/make/Makefile.x64MEL
new file mode 100644
index 0000000..e5c8606
--- /dev/null
+++ b/hello_builtin/make/Makefile.x64MEL
@@ -0,0 +1,24 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CXXFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CXXLD = $(CXX)
+CXXLDFLAGS = $(LDFLAGS) -m64 -static-libgcc -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
diff --git a/hello_dynamic/make/Makefile.x64MEL b/hello_dynamic/make/Makefile.x64MEL
new file mode 100644
index 0000000..e5c8606
--- /dev/null
+++ b/hello_dynamic/make/Makefile.x64MEL
@@ -0,0 +1,24 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CXXFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CXXLD = $(CXX)
+CXXLDFLAGS = $(LDFLAGS) -m64 -static-libgcc -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
diff --git a/hello_simple/make/Makefile.x64MEL b/hello_simple/make/Makefile.x64MEL
new file mode 100644
index 0000000..e5c8606
--- /dev/null
+++ b/hello_simple/make/Makefile.x64MEL
@@ -0,0 +1,24 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CXXFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CXXLD = $(CXX)
+CXXLDFLAGS = $(LDFLAGS) -m64 -static-libgcc -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
diff --git a/hello_world_xml_dynamic/make/Makefile.x64MEL b/hello_world_xml_dynamic/make/Makefile.x64MEL
new file mode 100644
index 0000000..e5c8606
--- /dev/null
+++ b/hello_world_xml_dynamic/make/Makefile.x64MEL
@@ -0,0 +1,24 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CXXFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CXXLD = $(CXX)
+CXXLDFLAGS = $(LDFLAGS) -m64 -static-libgcc -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
diff --git a/news/make/Makefile.x64MEL b/news/make/Makefile.x64MEL
new file mode 100644
index 0000000..e5c8606
--- /dev/null
+++ b/news/make/Makefile.x64MEL
@@ -0,0 +1,24 @@
+# Copyright (C) 2017 Mentor Graphics
+# Released under the MIT license (see COPYING.MIT for the terms)
+
+# Note:
+# - To use this Makefile, you must have the 'NDDSHOME' environment variable
+#   set to the location of RTI Connext.
+#
+# - You need to invoke the make command from the root directory of this example.
+#
+# - To enable debugging information, set the Makefile variable 'DEBUG' to '1'.
+# Example:
+#   make -f make/Makefile.x64MEL DEBUG=1
+
+# Defines required Make variables. They will be used in the Makefile.common
+# to define the rules to define the build process for this application.
+ARCH=$(NDDS_ARCH)
+
+CXXFLAGS += -DRTI_UNIX -DRTI_LINUX -DRTI_64BIT -m64
+CXXLD = $(CXX)
+CXXLDFLAGS = $(LDFLAGS) -m64 -static-libgcc -Wl,--no-as-needed
+SYSLIBS = -ldl -lnsl -lm -lpthread -lrt
+
+# The rest of the rules are in the 'Makefile.common'
+include make/Makefile.common
-- 
1.9.1

